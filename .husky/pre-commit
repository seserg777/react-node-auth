echo "ğŸ” Running pre-commit checks..."

# Run tests for backend
echo "ğŸ§ª Running backend tests..."
cd apps/backend
npm test
backend_exit_code=$?

if [ $backend_exit_code -ne 0 ]; then
  echo "âŒ Backend tests failed! Commit blocked."
  exit 1
fi

# Run tests for frontend-next
echo "ğŸ§ª Running frontend-next tests..."
cd ../frontend-next
npm test
frontend_exit_code=$?

if [ $frontend_exit_code -ne 0 ]; then
  echo "âŒ Frontend tests failed! Commit blocked."
  exit 1
fi

echo "âœ… All checks passed!"

